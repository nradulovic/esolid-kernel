<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>eSolid - Real-Time Kernel: Thread Management</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="eSolid-logo_small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">eSolid - Real-Time Kernel
   &#160;<span id="projectnumber">1.0BetaR01</span>
   </div>
   <div id="projectbrief">Event Based System</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="/"><span>Home&#160;page</span></a></li>
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Thread Management </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#threads_intro">Intro</a><ul><li class="level2"><a href="#kern_threads">eSolid RT Kernel thread</a></li>
<li class="level2"><a href="#kern_threads_state">Thread states</a></li>
</ul>
</li>
<li class="level1"><a href="#thd_create">Initializing Threads</a><ul><li class="level2"><a href="#thd_create_init">esThdInit() API function</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p>Introduction to threads and how to use them</p>
<p><br/>
<br/>
<br/>
</p>
<h1><a class="anchor" id="threads_intro"></a>
Intro</h1>
<p>A thread, also called a thread of execution is the smallest sequence of program instructions that can be managed by an operating system scheduler. Multi-threading is implemented by time-division multiplexing where the processor switches between threads. Context switching occurs fast enough that the user perceives the threads as running at the same time. By using threads a programmer can split the work into the threads, each responsible for a smaller portion of the problem. From a threads view he thinks it has the processor all to itself.</p>
<h2><a class="anchor" id="kern_threads"></a>
eSolid RT Kernel thread</h2>
<p>eSolid RT Kernel supports multi-threading and allows applications to have any number of threads. The only limiting factors for the maximum number of threads are the amount of RAM and ROM memory and processing time.</p>
<p>Threads are implemented as normal <code>C</code> functions. Thread functions must have the following prototype:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> fn (<span class="keywordtype">void</span> *);</div>
</div><!-- fragment --><p>Which in plain english means: <em>fn is a function (pointer to void) returning void</em>.</p>
<h2><a class="anchor" id="kern_threads_state"></a>
Thread states</h2>
<p>A thread can be in one of the following states: </p>
<div align="center">
<img src="dot_inline_dotgraph_2.png" alt="dot_inline_dotgraph_2.png" border="0" usemap="#dot_inline_dotgraph_2.map"/>
<map name="dot_inline_dotgraph_2.map" id="dot_inline_dotgraph_2.map"></map>
</div>
 <dl class="section user"><dt>Inactive</dt><dd>This is thread initial state. Threads in this state are still not activated (<b>inactive</b>) by <a class="el" href="group__kern__intf.html#gac91734f3ee867b519f59bf81cc7fde88" title="Initialize the specified thread. ">esThdInit()</a> function or they were deleted by <a class="el" href="group__kern__intf.html#gac9d1eac76f26096614e8196bcfd8b905" title="Terminate the specified thread. ">esThdTerm()</a> function. The scheduler does not recognize these threads and they will never execute.</dd></dl>
<dl class="section user"><dt>Ready</dt><dd>Threads waiting to execute. There are the threads that are <b>ready</b> to execute but are not currently executing because a different thread (equal or higher priority) is already executing.</dd></dl>
<dl class="section user"><dt>Run</dt><dd>Thread is currently executing. When the thread is in this state then the code is actually being <b>run</b> on the processor.</dd></dl>
<dl class="section user"><dt>Sleep</dt><dd>Thread is sleeping. These threads are <b>sleeping</b> while waiting for an event to occur.</dd></dl>
<h1><a class="anchor" id="thd_create"></a>
Initializing Threads</h1>
<h2><a class="anchor" id="thd_create_init"></a>
esThdInit() API function</h2>
<p>Threads are initialized by using <a class="el" href="group__kern__intf.html#gac91734f3ee867b519f59bf81cc7fde88" title="Initialize the specified thread. ">esThdInit()</a> API function.</p>
<dl class="section user"><dt>Stack size</dt><dd></dd></dl>
<p>There is no easy way to determine the stack size required by a thread. It is possible to calculate approximate stack size for simple threads, but for more complex ones (e.g. which calls library API function) this can be a daunting task. In this case stack size will be set to a size more than adequate for the thread and then use the profiling features provided by the kernel to ensure both that the space allocated is adequate, and that RAM space is not being unnecessarily wasted. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
