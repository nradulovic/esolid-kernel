<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>eSolid - Real-Time Kernel: Kernel states</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="eSolid-logo_small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">eSolid - Real-Time Kernel
   &#160;<span id="projectnumber">1.0BetaR02</span>
   </div>
   <div id="projectbrief">Event Based System</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('states.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Kernel states </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Details about kernel states</p>
<h1><a class="anchor" id="states_intro"></a>
Intro</h1>
<p>A Kernel state machine is a behavior model of the kernel core. Each state defines what methods are allowed. Kernel state is described by <code>enum esKernState</code>, see <a class="el" href="group__kern__ctrl.html#gac9be6bfeddbd6af148cdb3867fbc24af">esKernState</a> for details.</p>
<h1><a class="anchor" id="states_fsm"></a>
eSolid - RT Kernel states</h1>
<p>The kernel can be in one of the following states: </p>
<div align="center">
<img src="dot_inline_dotgraph_1.png" alt="dot_inline_dotgraph_1.png" border="0" usemap="#dot_inline_dotgraph_1.map"/>
<map name="dot_inline_dotgraph_1.map" id="dot_inline_dotgraph_1.map"></map>
</div>
<dl class="section user"><dt>INACTIVE</dt><dd>Inactive state of the kernel (Level 5). This state is entered after a physical reset. When the system is in this state all the maskable interrupt sources are disabled. In this state none of kernel internal data structures are initialized. In this state it is not possible to use any Kernel API except <a class="el" href="group__kern__general.html#ga9e9ff699d62d6035cd51121bb3140704" title="Initialize kernel internal data structures. ">esKernInit()</a>.</dd></dl>
<dl class="section user"><dt>INIT</dt><dd>Initialization state of the kernel (Level 4). In this state all internal data structures are initialized but the kernel is still not running. In this stage new threads can be created by calling <a class="el" href="group__kern__thd.html#gac91734f3ee867b519f59bf81cc7fde88" title="Initialize the specified thread. ">esThdInit()</a> function. Also, the application is allowed to use API which is used to create kernel structures like Thread Queues <a class="el" href="structesThdQ.html">esThdQ</a>. All the maskable interrupt sources are DISABLED.</dd></dl>
<dl class="section user"><dt>RUN</dt><dd>Normal, running state of the kernel (Level 0). To start multi-threading just call the <a class="el" href="group__kern__general.html#ga0e7a0a6b9c02df58de0f98de0229a09d" title="Start the multi-threading. ">esKernStart()</a> function. This function will switch the kernel into <code>RUN</code> state and multi-threading of created threads will commence. During the <code>RUN</code> state you are allowed to create other task as well. All the interrupt sources are enabled and the system APIs are accessible, threads are running. All the maskable interrupt sources are ENABLED.</dd></dl>
<dl class="section user"><dt>LOCK</dt><dd>Scheduler locked state, no context switching (Level 2). The running state of the kernel can be switched to <code>LOCK</code> state where the scheduler is locked and no context switching is allowed. <code>LOCK</code> state is one way of preventing the access to a shared resource. One more reason to lock the scheduler would be during the accessing of special hardware (e.g. programming the FLASH memory) which does not allow interruption of the running operation. Usage of scheduler locks should be kept at minimum. All the maskable interrupt sources are ENABLED.</dd></dl>
<dl class="section user"><dt>INTSRV_RUN or INTSRV_LOCK</dt><dd>Interrupt Service state, no context switching (Levels 1 and 3). During the both states <code>RUN</code> and <code>LOCK</code>, an interrupt event can occur. When Interrupt Service Routine is executing the kernel is in <code>INTSRV_RUN</code> or <code>INTSRV_LOCK</code> state. Each state corresponds to the state where the execution was interrupted from and the kernel will return to it's original state.</dd></dl>
<dl class="section user"><dt>SLEEP</dt><dd>When idle condition occurs the kernel will switch to <code>SLEEP</code> state (if power saving is enabled). In order to return to <code>RUN</code> state an interrupt must occur whether from system timer or any other interrupt source which must request a context switch upon exit from ISR.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The level of state <code>INACTIVE</code> is the highest. As the kernel boots up the level is decremented. The running state is level 0. </dd></dl>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
