\hypertarget{group__kern__thd}{\subsection{Thread}
\label{group__kern__thd}\index{Thread@{Thread}}
}


Thread management services.  


Collaboration diagram for Thread\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=220pt]{group__kern__thd}
\end{center}
\end{figure}
\subsubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structesThd}{es\-Thd}
\begin{DoxyCompactList}\small\item\em Thread structure. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{group__kern__thd_gaa707debebe3f98439911212b0cc8b3d1}{E\-S\-\_\-\-S\-T\-C\-K\-\_\-\-S\-I\-Z\-E}(elem)~\hyperlink{group__template__cpu__intf_gacb3a46e89d327fbaf5c122fe23877b24}{P\-O\-R\-T\-\_\-\-S\-T\-C\-K\-\_\-\-S\-I\-Z\-E}(elem)
\begin{DoxyCompactList}\small\item\em Converts the required stack elements into the stack array index. \end{DoxyCompactList}\item 
\#define \hyperlink{group__kern__thd_gaa9562c0ae61ad207e40486f952c5c7b3}{E\-S\-\_\-\-D\-E\-F\-\_\-\-T\-H\-D\-\_\-\-P\-R\-I\-O\-\_\-\-M\-A\-X}~(\hyperlink{group__template__kern__cfg_ga56bd89fe76f7fe22f3d8805bc3c68892}{C\-F\-G\-\_\-\-S\-C\-H\-E\-D\-\_\-\-P\-R\-I\-O\-\_\-\-L\-V\-L} -\/ 2u)
\begin{DoxyCompactList}\small\item\em Maximum level of priority possible for application thread. \end{DoxyCompactList}\item 
\#define \hyperlink{group__kern__thd_ga4dc54b2d44aa0656de70c7357733f4e4}{E\-S\-\_\-\-D\-E\-F\-\_\-\-T\-H\-D\-\_\-\-P\-R\-I\-O\-\_\-\-M\-I\-N}~(1u)
\begin{DoxyCompactList}\small\item\em Minimum level of priority possible for application thread. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \hyperlink{structesThd}{es\-Thd} \hyperlink{group__kern__thd_ga62e3a3ca0a4597a19c43cb8868810d82}{es\-Thd\-\_\-\-T}
\begin{DoxyCompactList}\small\item\em Thread type. \end{DoxyCompactList}\item 
typedef \hyperlink{group__template__cpu__intf_ga13cc91970e3e05fe4210440c068d3f4a}{port\-Stck\-\_\-\-T} \hyperlink{group__kern__thd_ga24160ddd0cb0327108cc652bfe6a49e5}{es\-Stck\-\_\-\-T}
\begin{DoxyCompactList}\small\item\em Stack type. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{group__kern__thd_gac91734f3ee867b519f59bf81cc7fde88}{es\-Thd\-Init} (\hyperlink{group__kern__thd_ga62e3a3ca0a4597a19c43cb8868810d82}{es\-Thd\-\_\-\-T} $\ast$thd, void($\ast$fn)(void $\ast$), void $\ast$arg, \hyperlink{group__template__cpu__intf_ga13cc91970e3e05fe4210440c068d3f4a}{port\-Stck\-\_\-\-T} $\ast$stck, size\-\_\-t stck\-Size, uint8\-\_\-t prio)
\begin{DoxyCompactList}\small\item\em Initialize the specified thread. \end{DoxyCompactList}\item 
void \hyperlink{group__kern__thd_gac9d1eac76f26096614e8196bcfd8b905}{es\-Thd\-Term} (\hyperlink{group__kern__thd_ga62e3a3ca0a4597a19c43cb8868810d82}{es\-Thd\-\_\-\-T} $\ast$thd)
\begin{DoxyCompactList}\small\item\em Terminate the specified thread. \end{DoxyCompactList}\item 
static \hyperlink{group__template__compiler_ga87952d6e574c7f437503926e833ba345}{P\-O\-R\-T\-\_\-\-C\-\_\-\-I\-N\-L\-I\-N\-E} \hyperlink{group__kern__thd_ga62e3a3ca0a4597a19c43cb8868810d82}{es\-Thd\-\_\-\-T} $\ast$ \hyperlink{group__kern__thd_gae2a2c5fe0128d446a64512b0714bfb6d}{es\-Thd\-Get\-Id} (void)
\begin{DoxyCompactList}\small\item\em Get the current thread I\-D. \end{DoxyCompactList}\item 
static \hyperlink{group__template__compiler_ga87952d6e574c7f437503926e833ba345}{P\-O\-R\-T\-\_\-\-C\-\_\-\-I\-N\-L\-I\-N\-E} uint8\-\_\-t \hyperlink{group__kern__thd_ga6d2d033dc7e1226eccf4a51c666678ad}{es\-Thd\-Get\-Prio} (\hyperlink{group__kern__thd_ga62e3a3ca0a4597a19c43cb8868810d82}{es\-Thd\-\_\-\-T} $\ast$thd)
\begin{DoxyCompactList}\small\item\em Get the priority of a thread. \end{DoxyCompactList}\item 
void \hyperlink{group__kern__thd_ga8eaa731d0026a8a1667d4422d5031df6}{es\-Thd\-Set\-Prio\-I} (\hyperlink{group__kern__thd_ga62e3a3ca0a4597a19c43cb8868810d82}{es\-Thd\-\_\-\-T} $\ast$thd, uint8\-\_\-t prio)
\begin{DoxyCompactList}\small\item\em Set the priority of a thread. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsubsection{Detailed Description}
Thread management services. For more details see \hyperlink{threads}{Thread Management}. 

\subsubsection{Macro Definition Documentation}
\hypertarget{group__kern__thd_gaa707debebe3f98439911212b0cc8b3d1}{\index{Thread@{Thread}!E\-S\-\_\-\-S\-T\-C\-K\-\_\-\-S\-I\-Z\-E@{E\-S\-\_\-\-S\-T\-C\-K\-\_\-\-S\-I\-Z\-E}}
\index{E\-S\-\_\-\-S\-T\-C\-K\-\_\-\-S\-I\-Z\-E@{E\-S\-\_\-\-S\-T\-C\-K\-\_\-\-S\-I\-Z\-E}!Thread@{Thread}}
\paragraph[{E\-S\-\_\-\-S\-T\-C\-K\-\_\-\-S\-I\-Z\-E}]{\setlength{\rightskip}{0pt plus 5cm}\#define E\-S\-\_\-\-S\-T\-C\-K\-\_\-\-S\-I\-Z\-E(
\begin{DoxyParamCaption}
\item[{}]{elem}
\end{DoxyParamCaption}
)~{\bf P\-O\-R\-T\-\_\-\-S\-T\-C\-K\-\_\-\-S\-I\-Z\-E}(elem)}}\label{group__kern__thd_gaa707debebe3f98439911212b0cc8b3d1}


Converts the required stack elements into the stack array index. 


\begin{DoxyParams}{Parameters}
{\em elem} & Number of stack elements\-: the stack size is expressed in number of elements regardless of the size of port general purpose registers. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Number of stack elements needed for stack usage. 
\end{DoxyReturn}
\hypertarget{group__kern__thd_gaa9562c0ae61ad207e40486f952c5c7b3}{\index{Thread@{Thread}!E\-S\-\_\-\-D\-E\-F\-\_\-\-T\-H\-D\-\_\-\-P\-R\-I\-O\-\_\-\-M\-A\-X@{E\-S\-\_\-\-D\-E\-F\-\_\-\-T\-H\-D\-\_\-\-P\-R\-I\-O\-\_\-\-M\-A\-X}}
\index{E\-S\-\_\-\-D\-E\-F\-\_\-\-T\-H\-D\-\_\-\-P\-R\-I\-O\-\_\-\-M\-A\-X@{E\-S\-\_\-\-D\-E\-F\-\_\-\-T\-H\-D\-\_\-\-P\-R\-I\-O\-\_\-\-M\-A\-X}!Thread@{Thread}}
\paragraph[{E\-S\-\_\-\-D\-E\-F\-\_\-\-T\-H\-D\-\_\-\-P\-R\-I\-O\-\_\-\-M\-A\-X}]{\setlength{\rightskip}{0pt plus 5cm}\#define E\-S\-\_\-\-D\-E\-F\-\_\-\-T\-H\-D\-\_\-\-P\-R\-I\-O\-\_\-\-M\-A\-X~({\bf C\-F\-G\-\_\-\-S\-C\-H\-E\-D\-\_\-\-P\-R\-I\-O\-\_\-\-L\-V\-L} -\/ 2u)}}\label{group__kern__thd_gaa9562c0ae61ad207e40486f952c5c7b3}


Maximum level of priority possible for application thread. 

\hypertarget{group__kern__thd_ga4dc54b2d44aa0656de70c7357733f4e4}{\index{Thread@{Thread}!E\-S\-\_\-\-D\-E\-F\-\_\-\-T\-H\-D\-\_\-\-P\-R\-I\-O\-\_\-\-M\-I\-N@{E\-S\-\_\-\-D\-E\-F\-\_\-\-T\-H\-D\-\_\-\-P\-R\-I\-O\-\_\-\-M\-I\-N}}
\index{E\-S\-\_\-\-D\-E\-F\-\_\-\-T\-H\-D\-\_\-\-P\-R\-I\-O\-\_\-\-M\-I\-N@{E\-S\-\_\-\-D\-E\-F\-\_\-\-T\-H\-D\-\_\-\-P\-R\-I\-O\-\_\-\-M\-I\-N}!Thread@{Thread}}
\paragraph[{E\-S\-\_\-\-D\-E\-F\-\_\-\-T\-H\-D\-\_\-\-P\-R\-I\-O\-\_\-\-M\-I\-N}]{\setlength{\rightskip}{0pt plus 5cm}\#define E\-S\-\_\-\-D\-E\-F\-\_\-\-T\-H\-D\-\_\-\-P\-R\-I\-O\-\_\-\-M\-I\-N~(1u)}}\label{group__kern__thd_ga4dc54b2d44aa0656de70c7357733f4e4}


Minimum level of priority possible for application thread. 



\subsubsection{Typedef Documentation}
\hypertarget{group__kern__thd_ga62e3a3ca0a4597a19c43cb8868810d82}{\index{Thread@{Thread}!es\-Thd\-\_\-\-T@{es\-Thd\-\_\-\-T}}
\index{es\-Thd\-\_\-\-T@{es\-Thd\-\_\-\-T}!Thread@{Thread}}
\paragraph[{es\-Thd\-\_\-\-T}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf es\-Thd} {\bf es\-Thd\-\_\-\-T}}}\label{group__kern__thd_ga62e3a3ca0a4597a19c43cb8868810d82}


Thread type. 

\hypertarget{group__kern__thd_ga24160ddd0cb0327108cc652bfe6a49e5}{\index{Thread@{Thread}!es\-Stck\-\_\-\-T@{es\-Stck\-\_\-\-T}}
\index{es\-Stck\-\_\-\-T@{es\-Stck\-\_\-\-T}!Thread@{Thread}}
\paragraph[{es\-Stck\-\_\-\-T}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf port\-Stck\-\_\-\-T} {\bf es\-Stck\-\_\-\-T}}}\label{group__kern__thd_ga24160ddd0cb0327108cc652bfe6a49e5}


Stack type. 



\subsubsection{Function Documentation}
\hypertarget{group__kern__thd_gac91734f3ee867b519f59bf81cc7fde88}{\index{Thread@{Thread}!es\-Thd\-Init@{es\-Thd\-Init}}
\index{es\-Thd\-Init@{es\-Thd\-Init}!Thread@{Thread}}
\paragraph[{es\-Thd\-Init}]{\setlength{\rightskip}{0pt plus 5cm}void es\-Thd\-Init (
\begin{DoxyParamCaption}
\item[{{\bf es\-Thd\-\_\-\-T} $\ast$}]{thd, }
\item[{void($\ast$)(void $\ast$)}]{fn, }
\item[{void $\ast$}]{arg, }
\item[{{\bf port\-Stck\-\_\-\-T} $\ast$}]{stck, }
\item[{size\-\_\-t}]{stck\-Size, }
\item[{uint8\-\_\-t}]{prio}
\end{DoxyParamCaption}
)}}\label{group__kern__thd_gac91734f3ee867b519f59bf81cc7fde88}


Initialize the specified thread. 


\begin{DoxyParams}{Parameters}
{\em thd} & Thread\-: is a pointer to the thread structure, \hyperlink{structesThd}{es\-Thd}. The structure will be used as information container for the thread. It is assumed that storage for the {\ttfamily \hyperlink{structesThd}{es\-Thd}} structure is allocated by the user code. \\
\hline
{\em fn} & Function\-: is a pointer to thread function. Thread function must have the following signature\-: {\ttfamily void thread (void $\ast$ arg)}. \\
\hline
{\em arg} & Argument\-: is a void pointer to an optional data area. It's usage is application defined and it is intended to pass arguments to thread when it is started for the first time. \\
\hline
{\em stck} & Stack\-: is a pointer to a allocated memory for thread stack. The pointer always points to the first element in the array, regardless of what type of stack the C\-P\-U is using. The thread's stack is used to store local variables, function parameters, return addresses. Each thread has its own stack and different sized stack. The stack type must be an array of \hyperlink{structportStck}{port\-Stck}. \\
\hline
{\em stck\-Size} & Stack Size\-: specifies the size of allocated stack memory. Size is expressed in bytes. Please see port documentation about minimal stack size. Usage of C unary operator {\ttfamily sizeof} is the recommended way of specifying stack size. Another way of specifying required stack size is through the usage of \hyperlink{group__kern__thd_gaa707debebe3f98439911212b0cc8b3d1}{E\-S\-\_\-\-S\-T\-C\-K\-\_\-\-S\-I\-Z\-E} macro. \\
\hline
{\em prio} & Priority\-: is the priority of the thread. The higher the number, the higher the priority (the importance) of the thread. Several threads can have the same priority. Note that lowest (0) and highest (C\-F\-G\-\_\-\-S\-C\-H\-E\-D\-\_\-\-P\-R\-I\-O\-\_\-\-L\-V\-L -\/ 1) levels are reserved for kernel threads only. \\
\hline
\end{DoxyParams}
\begin{DoxyPrecond}{Precondition}
1) {\ttfamily The kernel state E\-S\-\_\-\-K\-E\-R\-N\-\_\-\-I\-N\-A\-C\-T\-I\-V\-E}, see \hyperlink{states}{Kernel states}. 

2) {\ttfamily thd != N\-U\-L\-L} 

3) {\ttfamily thd-\/$>$signature != D\-E\-F\-\_\-\-T\-H\-D\-\_\-\-C\-O\-N\-T\-R\-A\-C\-T\-\_\-\-S\-I\-G\-N\-A\-T\-U\-R\-E}, the thread structure can't be initialized more than once. 

4) {\ttfamily fn != N\-U\-L\-L} 

5) {\ttfamily stck\-Size $>$= P\-O\-R\-T\-\_\-\-D\-E\-F\-\_\-\-S\-T\-C\-K\-\_\-\-M\-I\-N\-S\-I\-Z\-E}, see \hyperlink{group__template__cpu__intf_ga5a629fee11006b5b0b97f7cb7176efd4}{P\-O\-R\-T\-\_\-\-D\-E\-F\-\_\-\-S\-T\-C\-K\-\_\-\-M\-I\-N\-S\-I\-Z\-E}. 

6) {\ttfamily 0 $<$ prio $<$ C\-F\-G\-\_\-\-S\-C\-H\-E\-D\-\_\-\-P\-R\-I\-O\-\_\-\-L\-V\-L -\/ 1}, see \hyperlink{group__template__kern__cfg_ga56bd89fe76f7fe22f3d8805bc3c68892}{C\-F\-G\-\_\-\-S\-C\-H\-E\-D\-\_\-\-P\-R\-I\-O\-\_\-\-L\-V\-L}. 
\end{DoxyPrecond}
\begin{DoxyPostcond}{Postcondition}
1) {\ttfamily thd-\/$>$signature == D\-E\-F\-\_\-\-T\-H\-D\-\_\-\-C\-O\-N\-T\-R\-A\-C\-T\-\_\-\-S\-I\-G\-N\-A\-T\-U\-R\-E}, each \hyperlink{structesThd}{es\-Thd} structure will have valid signature after initialization.
\end{DoxyPostcond}
Threads must be created in order for kernel to recognize them as threads. Initialize a thread by calling \hyperlink{group__kern__thd_gac91734f3ee867b519f59bf81cc7fde88}{es\-Thd\-Init()} and provide arguments specifying to kernel how the thread will be managed. Threads are always created in the {\ttfamily ready-\/to-\/run} state. Threads can be created either prior to the start of multi-\/threading (before calling \hyperlink{group__kern__general_ga0e7a0a6b9c02df58de0f98de0229a09d}{es\-Kern\-Start()}), or by a running thread. \begin{DoxyParagraph}{This service can be called from\-:}

\begin{DoxyItemize}
\item Application initialization code
\item Application thread code 
\end{DoxyItemize}
\end{DoxyParagraph}
\begin{DoxyParagraph}{Rescheduling\-:}

\begin{DoxyItemize}
\item possible 
\end{DoxyItemize}
\end{DoxyParagraph}
\begin{DoxyParagraph}{Object class\-:}
Regular {\bfseries A\-P\-I} object, this object is part of the application programming interface. 
\end{DoxyParagraph}
\hypertarget{group__kern__thd_gac9d1eac76f26096614e8196bcfd8b905}{\index{Thread@{Thread}!es\-Thd\-Term@{es\-Thd\-Term}}
\index{es\-Thd\-Term@{es\-Thd\-Term}!Thread@{Thread}}
\paragraph[{es\-Thd\-Term}]{\setlength{\rightskip}{0pt plus 5cm}void es\-Thd\-Term (
\begin{DoxyParamCaption}
\item[{{\bf es\-Thd\-\_\-\-T} $\ast$}]{thd}
\end{DoxyParamCaption}
)}}\label{group__kern__thd_gac9d1eac76f26096614e8196bcfd8b905}


Terminate the specified thread. 


\begin{DoxyParams}{Parameters}
{\em thd} & Thread\-: is a pointer to the thread structure, \hyperlink{structesThd}{es\-Thd}. \\
\hline
\end{DoxyParams}
\begin{DoxyPrecond}{Precondition}
1) {\ttfamily The kernel state E\-S\-\_\-\-K\-E\-R\-N\-\_\-\-I\-N\-A\-C\-T\-I\-V\-E}, see \hyperlink{states}{Kernel states}. 

2) {\ttfamily thd != N\-U\-L\-L} 

3) {\ttfamily thd-\/$>$signature == D\-E\-F\-\_\-\-T\-H\-D\-\_\-\-C\-O\-N\-T\-R\-A\-C\-T\-\_\-\-S\-I\-G\-N\-A\-T\-U\-R\-E}, the pointer must point to a valid \hyperlink{structesThd}{es\-Thd} structure. 

4) {\ttfamily (thd-\/$>$thd\-L\-\_\-.\-q == N\-U\-L\-L) O\-R (thd-\/$>$thd\-L\-\_\-.\-q == g\-Rdy\-Queue)}, thread must be either in Ready Threads Queue or not be in any queue (e.\-g. not waiting for a synchronization mechanism). 
\end{DoxyPrecond}
\begin{DoxyPostcond}{Postcondition}
1) {\ttfamily thd-\/$>$signature == $\sim$\-D\-E\-F\-\_\-\-T\-H\-D\-\_\-\-C\-O\-N\-T\-R\-A\-C\-T\-\_\-\-S\-I\-G\-N\-A\-T\-U\-R\-E}, each \hyperlink{structesThd}{es\-Thd} structure will have invalid signature after termination. 
\end{DoxyPostcond}
\begin{DoxyParagraph}{This service can be called from\-:}

\begin{DoxyItemize}
\item Application initialization code
\item Application thread code 
\end{DoxyItemize}
\end{DoxyParagraph}
\begin{DoxyParagraph}{Rescheduling\-:}

\begin{DoxyItemize}
\item possible 
\end{DoxyItemize}
\end{DoxyParagraph}
\begin{DoxyParagraph}{Object class\-:}
Regular {\bfseries A\-P\-I} object, this object is part of the application programming interface. 
\end{DoxyParagraph}
\hypertarget{group__kern__thd_gae2a2c5fe0128d446a64512b0714bfb6d}{\index{Thread@{Thread}!es\-Thd\-Get\-Id@{es\-Thd\-Get\-Id}}
\index{es\-Thd\-Get\-Id@{es\-Thd\-Get\-Id}!Thread@{Thread}}
\paragraph[{es\-Thd\-Get\-Id}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf P\-O\-R\-T\-\_\-\-C\-\_\-\-I\-N\-L\-I\-N\-E} {\bf es\-Thd\-\_\-\-T}$\ast$ es\-Thd\-Get\-Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{group__kern__thd_gae2a2c5fe0128d446a64512b0714bfb6d}


Get the current thread I\-D. 

\begin{DoxyReturn}{Returns}
Pointer to current thread I\-D structure \hyperlink{structesThd}{es\-Thd}. 
\end{DoxyReturn}
\begin{DoxyNote}{Note}
This is {\ttfamily inline} function. 
\end{DoxyNote}
\begin{DoxyParagraph}{This service can be called from\-:}

\begin{DoxyItemize}
\item Application initialization code
\item Application thread code
\item Interrupt service routine 
\end{DoxyItemize}
\end{DoxyParagraph}
\begin{DoxyParagraph}{Rescheduling\-:}

\begin{DoxyItemize}
\item never 
\end{DoxyItemize}
\end{DoxyParagraph}
\begin{DoxyParagraph}{Object class\-:}
Regular {\bfseries A\-P\-I} object, this object is part of the application programming interface. 
\end{DoxyParagraph}
\hypertarget{group__kern__thd_ga6d2d033dc7e1226eccf4a51c666678ad}{\index{Thread@{Thread}!es\-Thd\-Get\-Prio@{es\-Thd\-Get\-Prio}}
\index{es\-Thd\-Get\-Prio@{es\-Thd\-Get\-Prio}!Thread@{Thread}}
\paragraph[{es\-Thd\-Get\-Prio}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf P\-O\-R\-T\-\_\-\-C\-\_\-\-I\-N\-L\-I\-N\-E} uint8\-\_\-t es\-Thd\-Get\-Prio (
\begin{DoxyParamCaption}
\item[{{\bf es\-Thd\-\_\-\-T} $\ast$}]{thd}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{group__kern__thd_ga6d2d033dc7e1226eccf4a51c666678ad}


Get the priority of a thread. 


\begin{DoxyParams}{Parameters}
{\em thd} & Thread\-: is pointer to the thread structure, \hyperlink{structesThd}{es\-Thd}. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The priority of the thread pointed by {\ttfamily thd}. 
\end{DoxyReturn}
\begin{DoxyNote}{Note}
This is {\ttfamily inline} function. 
\end{DoxyNote}
\begin{DoxyParagraph}{This service can be called from\-:}

\begin{DoxyItemize}
\item Application initialization code
\item Application thread code
\item Interrupt service routine 
\end{DoxyItemize}
\end{DoxyParagraph}
\begin{DoxyParagraph}{Rescheduling\-:}

\begin{DoxyItemize}
\item never 
\end{DoxyItemize}
\end{DoxyParagraph}
\begin{DoxyParagraph}{Object class\-:}
Regular {\bfseries A\-P\-I} object, this object is part of the application programming interface. 
\end{DoxyParagraph}
\hypertarget{group__kern__thd_ga8eaa731d0026a8a1667d4422d5031df6}{\index{Thread@{Thread}!es\-Thd\-Set\-Prio\-I@{es\-Thd\-Set\-Prio\-I}}
\index{es\-Thd\-Set\-Prio\-I@{es\-Thd\-Set\-Prio\-I}!Thread@{Thread}}
\paragraph[{es\-Thd\-Set\-Prio\-I}]{\setlength{\rightskip}{0pt plus 5cm}void es\-Thd\-Set\-Prio\-I (
\begin{DoxyParamCaption}
\item[{{\bf es\-Thd\-\_\-\-T} $\ast$}]{thd, }
\item[{uint8\-\_\-t}]{prio}
\end{DoxyParamCaption}
)}}\label{group__kern__thd_ga8eaa731d0026a8a1667d4422d5031df6}


Set the priority of a thread. 


\begin{DoxyParams}{Parameters}
{\em thd} & Thread\-: is pointer to the thread structure, \hyperlink{structesThd}{es\-Thd}. \\
\hline
{\em prio} & Priority\-: is new priority of the thread pointed by {\ttfamily thd}. \\
\hline
\end{DoxyParams}
\begin{DoxyPrecond}{Precondition}
1) {\ttfamily The kernel state $<$ E\-S\-\_\-\-K\-E\-R\-N\-\_\-\-I\-N\-A\-C\-T\-I\-V\-E}, see \hyperlink{states}{Kernel states}. 

2) {\ttfamily thd != N\-U\-L\-L} 

3) {\ttfamily thd-\/$>$signature == D\-E\-F\-\_\-\-T\-H\-D\-\_\-\-C\-O\-N\-T\-R\-A\-C\-T\-\_\-\-S\-I\-G\-N\-A\-T\-U\-R\-E}, the pointer must point to a valid \hyperlink{structesThd}{es\-Thd} structure. 

4) {\ttfamily 0 $<$ prio $<$ C\-F\-G\-\_\-\-S\-C\-H\-E\-D\-\_\-\-P\-R\-I\-O\-\_\-\-L\-V\-L -\/ 1}, see \hyperlink{group__template__kern__cfg_ga56bd89fe76f7fe22f3d8805bc3c68892}{C\-F\-G\-\_\-\-S\-C\-H\-E\-D\-\_\-\-P\-R\-I\-O\-\_\-\-L\-V\-L}. 
\end{DoxyPrecond}
\begin{DoxyParagraph}{This service can be called from\-:}

\begin{DoxyItemize}
\item Application initialization code
\item Application thread code
\item Interrupt service routine 
\end{DoxyItemize}
\end{DoxyParagraph}
\begin{DoxyParagraph}{Rescheduling\-:}

\begin{DoxyItemize}
\item possible 
\end{DoxyItemize}
\end{DoxyParagraph}
\begin{DoxyParagraph}{Function class\-:}
{\bfseries I class}, Interrupt-\/lock A\-P\-I function, this function can be called only from interrupts locked code sections. 
\end{DoxyParagraph}
